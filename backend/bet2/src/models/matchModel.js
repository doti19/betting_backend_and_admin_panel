const mongoose=require("mongoose");const Schema=mongoose.Schema;const matchSchema=new Schema({leagueId:{type:mongoose.Schema.ObjectId,ref:"League",required:[true,"A League Must Have an id"],},leagueName:{type:String,required:[true,"A league must have a name"],},status:{type:String,enum:["pending","inProgress","finished"],default:"pending"},formattedDate:{type:String,trim:true,},matchDetail:{title:{type:String,trim:true,},date:{type:String,trim:true,},team1Name:{type:String,trim:true,},team2Name:{type:String,trim:true,},specialOdds:[{}],prediction:[{name:String,odds:[{choice:String,odd:Number,},],},],},},{timestamps:true,toJson:{virtuals:true,},toObj:{virtuals:true,},});matchSchema.pre(/^find/,function(next){this.populate({path:"leagueId",select:"-__v",});next();});matchSchema.pre(/^find/,function(next){this.populate({path:"matchDetail",select:"-__v",});next();});module.exports=mongoose.model("Match",matchSchema);