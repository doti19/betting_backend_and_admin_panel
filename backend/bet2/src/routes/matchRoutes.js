const express=require("express");const router=express.Router();const multer=require("multer");const matchController=require("../controllers/matchController");const authController=require("../controllers/authController");router.get("/todaymatches",matchController.getTodayMatch);router.get("/countDocuments",authController.protect,authController.restrictTo("superadmin","admin","dev_mgmt"),matchController.countDocuments,matchController.checkAndUpdateMatchStatus);router.post("/",authController.protect,authController.restrictTo("superadmin","admin","dev_mgmt"),matchController.uploadLeague,matchController.registerMatch);router.post("/decreaseOddPercentage",authController.protect,authController.restrictTo("superadmin","dev_mgmt"),matchController.decreaseBetOddPercentage);router.post("/increaseOddPercentage",authController.protect,authController.restrictTo("superadmin","dev_mgmt"),matchController.increaseBetOddPercentage);router.get("/",matchController.getAllMatches,matchController.checkAndUpdateMatchStatus);router.get("/leagues",matchController.getALLmatchesByLeagueForWeb);router.get("/search",matchController.searchMatch);router.get("/:id",matchController.getSinglematches);router.patch("/:id",authController.protect,authController.restrictTo("superadmin","admin","dev_mgmt"),matchController.updateMatch);router.delete("/:id",authController.protect,authController.restrictTo("superadmin","admin","dev_mgmt"),matchController.deleteMatch);router.get("/leagues/:league",authController.protect,authController.restrictTo("superadmin","admin","dev_mgmt"),matchController.getALLMatchesByLeague,matchController.checkAndUpdateMatchStatus);router.get("/leagues/app/:league",matchController.getALLMatchesByLeagueApp,matchController.checkAndUpdateMatchStatus);module.exports=router;